<div class="container-fluid">
  <div class="mt-3"></div>
  <h2 class="text-center">{{ "USER-MANAGEMENT" | translate }}</h2>
  <div class="row mb-3 mt-3">
    <div class="col-md-8">
      <input type="text" class="form-control search-input" placeholder="{{ 'SEARCH-BY-USERS' | translate }}"
        [(ngModel)]="keyword" />
    </div>
    <div class="col-md-2">
      <button class="adminSearch-btn" (click)="searchUsers(keyword)">
        {{ "SEARCH" | translate }}
      </button>
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>{{ "ID" | translate }}</th>
        <th>{{ "NAME" | translate }}</th>
        <th>{{ "DATE-OF-BIRTH" | translate }}</th>
        <th>{{ "PHONE" | translate }}</th>
        <th>{{ "ADDRESS" | translate }}</th>
        <th>{{ "ROLE" | translate }}</th>
        <th>{{ "STATUS" | translate }}</th>
        <th>{{ "ACTION" | translate }}</th>
      </tr>
    </thead>
    <tbody>
      @for(user of users; track user.id){
      <tr>
        <td>
          {{ user.id }}
        </td>
        <td>{{ user.fullname }}</td>
        <td>{{ user.date_of_birth | date }}</td>
        <td>{{ user.phone_number }}</td>
        <td>{{ user.address }}</td>
        <td>{{ user.role.name }}</td>
        <td>{{ user.is_active }}</td>
        <td>
          <div style="display: flex; gap: 10px; justify-content: center">
            <button (click)="editUser(user)" class="edit-btn">
              <i class="fa-solid fa-file-pen"></i>
            </button>
            <button class="delete-btn" (click)="deleteUser(user.id)">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <app-pagination [currentPage]="currentPage" [totalPages]="totalPages" [visiblePages]="visiblePages"
    (pageChanged)="onPageChange($event)"></app-pagination>
</div>