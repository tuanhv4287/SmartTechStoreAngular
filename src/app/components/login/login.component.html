<app-header></app-header>
<div class="container pt-5">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="login-form mx-auto">
        <h2 class="login-header">{{ "LOGIN" | translate }}</h2>
        <form #loginForm="ngForm" (ngSubmit)="login()">
          <div class="form-group">
            <label for="phoneNumber">{{ "PHONE" | translate }}</label>
            <input
              type="text"
              class="form-control"
              id="phoneNumber"
              [(ngModel)]="phoneNumber"
              name="phone"
              (input)="onPhoneChange()"
              (focus)="loginForm.form.markAllAsTouched()"
              required
            />
            <div
              *ngIf="loginForm.submitted && !phoneNumber"
              class="text-danger"
            >
              {{ "PHONE-NUMBER-IS-REQUIRED" | translate }}
            </div>
            <div class="divider-nospace"></div>
          </div>
          <div class="mt-2"></div>
          <div class="form-group password-field">
            <label for="password">{{ "PASSWORD" | translate }}</label>
            <input
              [type]="showPassword ? 'text' : 'password'"
              class="form-control"
              placeholder="{{ 'AT-LEAST-3-CHARACTERS' | translate }}"
              id="password"
              [(ngModel)]="password"
              name="password"
              required
            />
            <i
              [class]="
                showPassword
                  ? 'password-toggle fas fa-eye'
                  : 'password-toggle fas fa-eye-slash'
              "
              (click)="togglePasswordVisibility()"
            ></i>
            <div class="divider-nospace"></div>
          </div>
          <div *ngIf="loginForm.submitted && !password" class="text-danger">
            {{ "PASSWORD-IS-REQUIRED" | translate }}
          </div>
          <div
            *ngIf="loginForm.submitted && password.length < 3"
            class="text-danger"
          >
            {{ "PASSWORD-LEAST-3-CHARACTERS" | translate }}
          </div>
          <div class="form-group">
            <div class="form-check checkbox-text">
              <span style="display: flex">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="remember"
                  name="remember"
                  [(ngModel)]="rememberMe"
                />
                <label class="form-check-label text-start" for="remember">
                  {{ "KEEP-ME-LOGGED-IN" | translate }}
                </label>
              </span>
              <a href="#" class="register-link">{{
                "FORGOT-PASSWORD" | translate
              }}</a>
            </div>
          </div>
          <div class="form-group">
            <div class="row" style="justify-content: space-evenly">
              <select
                class="form-control access-right"
                [(ngModel)]="selectedRole"
                name="remember"
              >
                <option selected disabled>
                  {{ "LOGIN-PRIVILEGES" | translate }}
                </option>
                <option *ngFor="let role of roles" [ngValue]="role">
                  {{ role.name }}
                </option>
              </select>
              <select
                class="form-control access-right"
                (change)="fillAccount($event)"
              >
                <option selected disabled>
                  {{ "SELECT-TEST-ACCOUNT" | translate }}
                </option>
                <option *ngFor="let role of roles" [ngValue]="role">
                  {{ role.name }}
                </option>
              </select>
            </div>
          </div>
          <button type="submit" class="login-button">
            {{ "LOGIN" | translate }}
          </button>
          <div class="divider"></div>
          <p class="text-center">
            {{ "YOU-HAVE-NOT-REGISTERED" | translate }}
            <span>
              <a class="register-link" routerLink="/register">
                {{ "CREATE-ACCOUNT" | translate }}</a
              ></span
            >
          </p>
        </form>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
